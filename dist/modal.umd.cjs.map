{"version":3,"file":"modal.umd.cjs","sources":["../src/utils/ModalStorage.ts","../src/utils/modal-resize-type.ts","../src/utils/modal-cursor.ts","../src/events/resizeModal.ts","../src/events/moveModal.ts","../src/utils/updateModalSizeAndPosition.ts","../src/Components/ModalBackdrop.vue","../src/Components/ModalCloseButton.vue","../src/utils/modal-utils.ts","../src/Components/Modal.vue","../src/Components/ModalFooter.vue","../src/Components/ModalContent.vue","../src/Components/ModalButton.vue","../src/modal.ts"],"sourcesContent":["import {ModalOptions} from \"../Types/ModalOptions\";\r\n\r\nconst modals = new Map<string, ModalOptions>();\r\n\r\nconst addModal = (name: string, options: ModalOptions): void => {\r\n    modals.set(name, options);\r\n}\r\n\r\nconst getModal = (name: string): ModalOptions | null => {\r\n    const options = modals.get(name);\r\n    if (options === undefined) {\r\n        return null;\r\n    }\r\n    return options;\r\n}\r\n\r\nconst deleteModal = (name: string): void => {\r\n    modals.delete(name);\r\n}\r\n\r\nconst getModals = (): Map<string, ModalOptions> => {\r\n    return modals;\r\n}\r\n\r\nexport {\r\n    getModals,\r\n    addModal,\r\n    getModal,\r\n    deleteModal\r\n};\r\n","export default (mouseX: number, mouseY: number, rect: DOMRect): string | null => {\r\n    if (mouseX - rect.left > -10 && mouseX - rect.left < 10 && mouseY - rect.top > -10 && mouseY - rect.top < 10) {\r\n        return 'top-left';\r\n    }\r\n    if (rect.right - mouseX > -10 && rect.right - mouseX < 10 && mouseY - rect.top > -10 && mouseY - rect.top < 10) {\r\n        return 'top-right';\r\n    }\r\n    if (rect.bottom - mouseY > -10 && rect.bottom - mouseY < 10 && mouseX - rect.left > -10 && mouseX - rect.left < 10) {\r\n        return 'bottom-left';\r\n    }\r\n    if (rect.bottom - mouseY > -10 && rect.bottom - mouseY < 10 && rect.right - mouseX > -10 && rect.right - mouseX < 10) {\r\n        return 'bottom-right';\r\n    }\r\n    if (mouseX - rect.left > -5 && mouseX - rect.left < 5) {\r\n        return 'left';\r\n    }\r\n    if (rect.right - mouseX > -5 && rect.right - mouseX < 5) {\r\n        return 'right';\r\n    }\r\n    if (mouseY - rect.top > -5 && mouseY - rect.top < 5) {\r\n        return 'top';\r\n    }\r\n    if (rect.bottom - mouseY > -5 && rect.bottom - mouseY < 5) {\r\n        return 'bottom';\r\n    }\r\n    return null;\r\n}","import modalResizeType from \"./modal-resize-type\";\r\n\r\nexport default (mouseX: number, mouseY: number, rect: DOMRect): string => {\r\n    switch (modalResizeType(mouseX, mouseY, rect)) {\r\n        case 'left':\r\n        case 'right':\r\n            return 'col-resize';\r\n        case 'top':\r\n        case 'bottom':\r\n            return 'row-resize';\r\n        case 'top-left':\r\n        case 'bottom-right':\r\n            return 'nwse-resize';\r\n        case 'top-right':\r\n        case 'bottom-left':\r\n            return 'nesw-resize';\r\n        default:\r\n            return '';\r\n    }\r\n}","import modalCursor from \"../utils/modal-cursor\";\r\nimport modalResizeType from \"../utils/modal-resize-type\";\r\nimport { ResizeModalOptions } from \"../Types/ResizeModalOptions\";\r\n\r\nexport default ($modal: HTMLElement, options: ResizeModalOptions) => {\r\n    $modal.addEventListener('pointermove', (e) => {\r\n        const rect = $modal.getBoundingClientRect();\r\n        $modal.style.cursor = modalCursor(e.clientX, e.clientY, rect);\r\n    });\r\n\r\n    $modal.addEventListener('pointerdown', (e) => {\r\n        const x = e.clientX;\r\n        const y = e.clientY;\r\n        const originalRect = $modal.getBoundingClientRect();\r\n        let resizeType = modalResizeType(x, y, originalRect);\r\n\r\n        if (resizeType === null) {\r\n            return;\r\n        }\r\n\r\n        const originalWidth = $modal.clientWidth;\r\n        const originalHeight = $modal.clientHeight;\r\n        let width = originalWidth;\r\n        let height = originalHeight;\r\n        let top = originalRect.top;\r\n        let left = originalRect.left;\r\n\r\n        document.body.style.userSelect = \"none\";\r\n        // s####i love u!\r\n        document.body.style.setProperty('-webkit-user-select', 'none');\r\n\r\n        document.addEventListener('pointermove', (e: PointerEvent) => {\r\n            if (resizeType === null) {\r\n                return;\r\n            }\r\n\r\n            e.stopPropagation();\r\n\r\n            if (resizeType === 'left') {\r\n                width = Math.max(originalWidth - (e.clientX - x), options.minWidth);\r\n                left = originalRect.left + (originalWidth - width);\r\n            }\r\n\r\n            if (resizeType === 'right') {\r\n                width = Math.max(originalWidth + (e.clientX - x), options.minWidth);\r\n            }\r\n            if (resizeType === 'top') {\r\n                height = Math.max(originalHeight - (e.clientY - y), options.minHeight);\r\n                top = originalRect.top + (originalHeight - height);\r\n            }\r\n            if (resizeType === 'bottom') {\r\n                height = Math.max(originalHeight + (e.clientY - y), options.minHeight);\r\n            }\r\n            if (resizeType == 'top-left') {\r\n                width = Math.max(originalWidth - (e.clientX - x), options.minWidth);\r\n                left = originalRect.left + (originalWidth - width);\r\n\r\n                height = Math.max(originalHeight - (e.clientY - y), options.minHeight);\r\n                top = originalRect.top + (originalHeight - height);\r\n            }\r\n            if (resizeType == 'top-right') {\r\n                width = Math.max(originalWidth + (e.clientX - x), options.minWidth);\r\n                height = Math.max(originalHeight - (e.clientY - y), options.minHeight);\r\n                top = originalRect.top + (originalHeight - height);\r\n            }\r\n            if (resizeType == 'bottom-left') {\r\n                width = Math.max(originalWidth - (e.clientX - x), options.minWidth);\r\n                height = Math.max(originalHeight + (e.clientY - y), options.minHeight);\r\n                left = originalRect.left + (originalWidth - width);\r\n            }\r\n            if (resizeType == 'bottom-right') {\r\n                width = Math.max(originalWidth + (e.clientX - x), options.minWidth);\r\n                height = Math.max(originalHeight + (e.clientY - y), options.minHeight);\r\n            }\r\n\r\n            width = Math.round(width);\r\n            height = Math.round(height);\r\n            top = Math.round(top);\r\n            left = Math.round(left);\r\n\r\n            $modal.style.width = width + 'px';\r\n            $modal.style.left = left + 'px';\r\n\r\n            if (e.clientY >= 0) {\r\n                $modal.style.height = height + 'px';\r\n                $modal.style.top = top + 'px';\r\n            }\r\n\r\n            options.resize({\r\n                x: $modal.getBoundingClientRect().x,\r\n                y: $modal.getBoundingClientRect().y,\r\n                width: $modal.clientWidth,\r\n                height: $modal.clientHeight\r\n            });\r\n        });\r\n\r\n        document.addEventListener('pointerup', () => {\r\n            resizeType = null;\r\n            document.body.style.userSelect = \"none\";\r\n            // s####i love u!\r\n            document.body.style.setProperty('-webkit-user-select', '');\r\n        })\r\n    });\r\n}\r\n","import {MoveModalOptions} from \"../Types/MoveModalOptions\";\r\n\r\nexport default ($modal: HTMLElement, options: MoveModalOptions): void => {\r\n    const $header = $modal.querySelector('.modal-header');\r\n    $header?.addEventListener('pointerdown', (e: PointerEvent): void => {\r\n        const x = e.clientX - $modal.getBoundingClientRect().left;\r\n        const y = e.clientY - $modal.getBoundingClientRect().top;\r\n\r\n        const move = function (e: PointerEvent) {\r\n            let _y = (e.clientY - y);\r\n            if (_y < 0) {\r\n                _y = 0;\r\n            }\r\n            $modal.style.top = _y + 'px';\r\n            $modal.style.left = (e.clientX - x) + 'px';\r\n            document.body.style.userSelect = \"none\";\r\n            // s####i love u!\r\n            document.body.style.setProperty('-webkit-user-select', 'none');\r\n\r\n            options.move({\r\n                x: $modal.getBoundingClientRect().x,\r\n                y: $modal.getBoundingClientRect().y,\r\n                width: $modal.clientWidth,\r\n                height: $modal.clientHeight\r\n            })\r\n        }\r\n\r\n        document.addEventListener('pointermove', move);\r\n\r\n        document.addEventListener('pointerup', () => {\r\n            document.removeEventListener('pointermove', move);\r\n            document.body.style.userSelect = \"\";\r\n            // s####i love u!\r\n            document.body.style.setProperty('-webkit-user-select', '');\r\n        }, {\r\n            once: true\r\n        });\r\n    });\r\n}\r\n","import { ModalPosition } from \"../Types/ModalPosition\";\r\n\r\nexport default ($modal: HTMLElement, modalPosition: ModalPosition): void => {\r\n    $modal.style.width = modalPosition.width + 'px';\r\n    $modal.style.height = modalPosition.height + 'px';\r\n    $modal.style.top = modalPosition.y !== null ? modalPosition.y + 'px' : (document.documentElement.clientHeight / 2 - $modal.clientHeight / 2) + 'px';\r\n    $modal.style.left = modalPosition.x !== null ? modalPosition.x + 'px' : (document.documentElement.clientWidth / 2 - $modal.clientWidth / 2) + 'px';\r\n}\r\n","<script lang=\"ts\" setup>\r\nimport { onMounted, onUnmounted, ref } from \"vue\";\r\n\r\nconst $backdrop = ref(null);\r\nconst emit = defineEmits(['close']);\r\n\r\nconst updateBackdropSize = (): void => {\r\n  $backdrop.value.style.width = document.documentElement.clientWidth + 'px';\r\n  $backdrop.value.style.height = document.documentElement.clientHeight + 'px';\r\n}\r\n\r\nconst onCloseBackdrop = (): void => {\r\n  emit('close');\r\n}\r\n\r\nonMounted((): void => {\r\n  updateBackdropSize();\r\n\r\n  window.addEventListener('resize', updateBackdropSize);\r\n});\r\n\r\nonUnmounted((): void => {\r\n  window.removeEventListener('resize', updateBackdropSize);\r\n})\r\n</script>\r\n\r\n<template>\r\n  <div ref=\"$backdrop\" @click=\"onCloseBackdrop\" class=\"backdrop\"></div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n.backdrop {\r\n  position: fixed;\r\n  z-index: 900;\r\n  top: 0;\r\n  left: 0;\r\n  background: #000;\r\n  opacity: .5;\r\n}\r\n.v-enter-active,\r\n.v-leave-active {\r\n  transition: opacity 0.5s ease;\r\n}\r\n\r\n.v-enter-from,\r\n.v-leave-to {\r\n  opacity: 0;\r\n}\r\n</style>\r\n","<script lang=\"ts\" setup>\r\nconst emit = defineEmits(['close']);\r\n\r\nconst onCloseButtonClick = () => {\r\n  emit('close');\r\n};\r\n</script>\r\n\r\n<template>\r\n  <button type=\"button\" @click.prevent=\"onCloseButtonClick\">\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"icon icon-tabler icon-tabler-x\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" stroke-width=\"2\" stroke=\"currentColor\" fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\r\n      <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\"></path>\r\n      <path d=\"M18 6l-12 12\"></path>\r\n      <path d=\"M6 6l12 12\"></path>\r\n    </svg>\r\n  </button>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\nbutton {\r\n  svg {\r\n    color: #b2b2b2;\r\n    &:hover {\r\n      color: #949494;\r\n    }\r\n    &:active {\r\n      color: #707070;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { ModalPosition } from \"../Types/ModalPosition\";\r\nimport { getModals } from \"./ModalStorage\";\r\n\r\nconst calculateX = (width: number): number => {\r\n    return Math.round(document.documentElement.clientWidth / 2 - width / 2);\r\n}\r\n\r\nconst calculateY = (height: number): number => {\r\n    let y = Math.round(window.innerHeight / 2 - height / 2);\r\n    if (y < 0) {\r\n        y = 5;\r\n    }\r\n    return y;\r\n}\r\n\r\nconst normalizeSizeFromProps = (size: string): number => {\r\n    return Number(size.replace('px', ''));\r\n}\r\n\r\nconst getStartupModalPosition = (width: number, height: number): ModalPosition => {\r\n    return {\r\n        x: calculateX(width),\r\n        y: calculateY(height),\r\n        width: width,\r\n        height: height,\r\n    }\r\n}\r\n\r\nconst getMaxZIndexOfModals = (): number => {\r\n    let zIndex = 1000;\r\n    for (const modalOption of getModals().values()) {\r\n        const zIndexOfCurrentModal = modalOption.getZIndex();\r\n        if (zIndexOfCurrentModal > zIndex) {\r\n            zIndex = zIndexOfCurrentModal;\r\n        }\r\n    }\r\n    return zIndex;\r\n}\r\n\r\nconst getScrollbarWidth = (): number => {\r\n    return window.innerWidth - document.documentElement.clientWidth;\r\n}\r\n\r\nexport {\r\n    normalizeSizeFromProps,\r\n    getStartupModalPosition,\r\n    getMaxZIndexOfModals,\r\n    getScrollbarWidth,\r\n}\r\n","<script lang=\"ts\" setup>\r\nimport { onMounted, onUnmounted, ref, nextTick } from \"vue\";\r\nimport {addModal, deleteModal, getModals} from \"../utils/ModalStorage.js\";\r\nimport resizeModal from \"../events/resizeModal\";\r\nimport moveModal from \"../events/moveModal\";\r\nimport updateModalSizeAndPosition from \"../utils/updateModalSizeAndPosition\";\r\nimport { ModalPosition } from \"../Types/ModalPosition\";\r\n\r\nimport ModalBackdrop from \"./ModalBackdrop.vue\";\r\nimport ModalCloseButton from \"./ModalCloseButton.vue\";\r\nimport {getMaxZIndexOfModals, getStartupModalPosition, normalizeSizeFromProps, getScrollbarWidth} from \"../utils/modal-utils\";\r\n\r\nconst modalIsOpened = ref(false);\r\nconst modalIsVisible = ref(false);\r\nconst modalIsActive = ref(false);\r\n\r\nconst props = defineProps({\r\n  name: {\r\n    type: String,\r\n    required: true\r\n  },\r\n  title: {\r\n    type: String,\r\n    required: false,\r\n    default: null\r\n  },\r\n  minWidth: {\r\n    type: String,\r\n    default: '200px',\r\n  },\r\n  width: {\r\n    type: String,\r\n    default: '600px'\r\n  },\r\n  minHeight: {\r\n    type: String,\r\n    default: '200px',\r\n  },\r\n  height: {\r\n    type: String,\r\n    default: '400px'\r\n  },\r\n  backdrop: {\r\n    type: Boolean,\r\n    default: false\r\n  },\r\n  staticBackdrop: {\r\n    type: Boolean,\r\n    default: false,\r\n  },\r\n  resize: {\r\n    type: Boolean,\r\n    default: true\r\n  },\r\n  theme: {\r\n    type: String,\r\n    default: 'white'\r\n  }\r\n});\r\n\r\nconst $modal = ref<HTMLElement>();\r\nconst $headerWrapper = ref<HTMLElement>();\r\nconst $header = ref<HTMLElement>();\r\n\r\nlet modalPosition: ModalPosition = getStartupModalPosition(\r\n    normalizeSizeFromProps(props.width),\r\n    normalizeSizeFromProps(props.height),\r\n);\r\n\r\nconst open = ($modal: HTMLElement) => {\r\n  return () => {\r\n    const scrollbarWith = getScrollbarWidth();\r\n    if (scrollbarWith > 0) {\r\n      document.body.style.paddingRight = scrollbarWith + 'px';\r\n    }\r\n    document.body.style.overflow = 'hidden';\r\n\r\n    modalIsOpened.value = true;\r\n    setTimeout(() => modalIsVisible.value = true, 10);\r\n\r\n    nextTick(async () => {\r\n      activate($modal)();\r\n\r\n      $modal.style.zIndex = (getMaxZIndexOfModals() + 1).toString();\r\n      $modal.style.minWidth = props.minWidth;\r\n      $modal.style.minHeight = props.minHeight;\r\n\r\n      updateModalSizeAndPosition($modal, modalPosition);\r\n      if (props.resize) {\r\n        resizeModal($modal, {\r\n          minWidth: normalizeSizeFromProps(props.minWidth),\r\n          minHeight: normalizeSizeFromProps(props.minHeight),\r\n          resize: (position: ModalPosition): void => {\r\n            modalPosition = position;\r\n          },\r\n        });\r\n      }\r\n\r\n      moveModal($modal, {\r\n        move: (position: ModalPosition) => {\r\n          modalPosition = position;\r\n        }\r\n      });\r\n    });\r\n  }\r\n};\r\n\r\nconst getZIndex = ($modal: HTMLElement) => {\r\n  return (): number => {\r\n    return Number($modal.style.zIndex ?? 1000);\r\n  }\r\n}\r\n\r\nconst activate = ($modal: HTMLElement) => {\r\n  return () => {\r\n    if (modalIsActive.value === true) {\r\n      return;\r\n    }\r\n    for (const anotherModal of getModals().values()) {\r\n      anotherModal.deactivate();\r\n    }\r\n    let zIndex = getMaxZIndexOfModals() + 1;\r\n    modalIsActive.value = true;\r\n    $modal.style.zIndex = zIndex.toString();\r\n  }\r\n}\r\n\r\nconst deactivate = ($modal: HTMLElement) => {\r\n  return (): void => {\r\n    modalIsActive.value = false;\r\n    let zIndex = Number($modal.style.zIndex) - 1;\r\n    if (zIndex < 1000) {\r\n      zIndex = 1000;\r\n    }\r\n    $modal.style.setProperty('z-index', zIndex.toString());\r\n  }\r\n}\r\n\r\nconst close = () => {\r\n    modalIsVisible.value = false;\r\n    document.body.style.paddingRight = '';\r\n    document.body.style.overflow = '';\r\n    setTimeout(() => {\r\n      modalIsOpened.value = false;\r\n    }, 150);\r\n}\r\n\r\nconst onCloseBackdrop = () => {\r\n  if (!props.staticBackdrop) {\r\n    close();\r\n  }\r\n}\r\n\r\nconst onActivateModal = () => {\r\n  activate($modal.value)();\r\n}\r\n\r\nonMounted(():void => {\r\n  addModal(props.name, {\r\n    open: open($modal.value),\r\n    close,\r\n    activate: activate($modal.value),\r\n    deactivate: deactivate($modal.value),\r\n    getZIndex: getZIndex($modal.value),\r\n  });\r\n});\r\n\r\nonUnmounted((): void => {\r\n  deleteModal(props.name);\r\n});\r\n</script>\r\n\r\n<template>\r\n  <div>\r\n    <div @pointerdown=\"onActivateModal\" ref=\"$modal\" class=\"modal\" :class=\"{'modal--hidden': !modalIsOpened, 'modal-visible': modalIsVisible, 'modal--theme-black': props.theme === 'black'}\">\r\n      <div ref=\"$headerWrapper\" class=\"modal-header-wrapper\">\r\n        <div ref=\"$header\" class=\"modal-header\">\r\n          <div class=\"modal-header__title\">\r\n            {{ title }}\r\n          </div>\r\n          <div class=\"modal-header__buttons\">\r\n            <ModalCloseButton\r\n              @close=\"close\"\r\n            ></ModalCloseButton>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <slot></slot>\r\n    </div>\r\n\r\n    <Transition>\r\n      <modal-backdrop v-if=\"props.backdrop && modalIsOpened\" @close=\"onCloseBackdrop\"></modal-backdrop>\r\n    </Transition>\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n.modal--hidden {\r\n  display: none !important;\r\n}\r\n\r\n.modal-visible {\r\n  opacity: 1 !important;\r\n}\r\n\r\n.modal {\r\n  display: flex;\r\n  flex-direction: column;\r\n  font-family: sans-serif;\r\n  position: fixed;\r\n  background: #fff;\r\n  border-radius: 11px;\r\n  border: 1px solid rgba(30, 29, 29, 0.16);\r\n  box-shadow: 0 0 25px 0 rgba(0,0,0,0.20);\r\n  overflow: hidden;\r\n  opacity: 0;\r\n  transition: opacity .15s ease-in-out 0s;\r\n\r\n  .modal-header-wrapper {\r\n    background: #f3f4f6;\r\n    padding: .3rem .5rem;\r\n    .modal-header {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      user-select: none;\r\n\r\n      .modal-header__buttons {\r\n        line-height: 0;\r\n        button {\r\n          line-height: 0;\r\n          background: transparent;\r\n          border: none;\r\n          padding: 0;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  &.modal--theme-black {\r\n    background: #292a2e;\r\n    color: #d0d0dc;\r\n    .modal-header-wrapper {\r\n      background: #25262b;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","<script lang=\"ts\" setup>\r\nimport { ref, onMounted } from \"vue\";\r\n\r\nconst $footerNode = ref<HTMLElement|null>(null);\r\nlet showFooter = true;\r\n\r\nonMounted((): void => {\r\n    showFooter = $footerNode.value !== null && $footerNode.value.querySelectorAll('button').length > 0;\r\n});\r\n</script>\r\n\r\n<template>\r\n  <div ref=\"$footerNode\" class=\"modal-footer\" v-if=\"showFooter\">\r\n    <slot></slot>\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n.modal-footer {\r\n  text-align: right;\r\n  padding: .5rem;\r\n  background: #f3f4f6;\r\n}\r\n\r\n.modal.modal--theme-black {\r\n  .modal-footer {\r\n    background: #25262b;\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"modal-body\">\r\n    <div class=\"modal-body__content\">\r\n      <slot></slot>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.modal-body {\r\n  padding: .7rem;\r\n  width: 100%;\r\n  flex-grow: 1;\r\n  box-sizing: border-box;\r\n  overflow-y: hidden;\r\n  .modal-body__content {\r\n    height: 100%;\r\n    overflow-y: auto;\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <button type=\"button\">\r\n    <slot></slot>\r\n  </button>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\nbutton {\r\n  background: #fff;\r\n  border: 1px solid #e5e8ec;\r\n  padding: .3rem 1rem;\r\n  border-radius: 5px;\r\n  outline: none;\r\n  user-select: none;\r\n  margin-left: .5rem;\r\n  &:hover {\r\n    background: #f6f6f8;\r\n    border: 1px solid #e2e6ea;\r\n  }\r\n  &:active {\r\n    background: #e8eaec;\r\n    border: 1px solid #cbd1d9;\r\n  }\r\n}\r\n.modal.modal--theme-black {\r\n  .modal-footer {\r\n    button {\r\n      background: #48484f;\r\n      border-color: #48484f;\r\n      color: #d0d0dc;\r\n      &:hover {\r\n        background: #575760;\r\n        border-color: #575760;\r\n      }\r\n      &:active {\r\n        background: #4f4f57;\r\n        border-color: #4f4f57;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import Modal from \"./Components/Modal.vue\";\r\nimport ModalFooter from \"./Components/ModalFooter.vue\";\r\nimport ModalContent from \"./Components/ModalContent.vue\";\r\nimport ModalButton from \"./Components/ModalButton.vue\";\r\nimport { getModal } from \"./utils/ModalStorage\";\r\n\r\nconst open = (modalName: string): void => {\r\n    getModal(modalName)?.open();\r\n}\r\n\r\nconst close = (modalName: string): void => {\r\n    getModal(modalName)?.close();\r\n}\r\n\r\nexport {\r\n    Modal,\r\n    ModalContent,\r\n    ModalFooter,\r\n    ModalButton,\r\n    open,\r\n    close\r\n}"],"names":["modals","addModal","name","options","getModal","deleteModal","getModals","modalResizeType","mouseX","mouseY","rect","modalCursor","resizeModal","$modal","e","x","y","originalRect","resizeType","originalWidth","originalHeight","width","height","top","left","moveModal","$header","move","_y","updateModalSizeAndPosition","modalPosition","$backdrop","ref","emit","__emit","updateBackdropSize","onCloseBackdrop","onMounted","onUnmounted","onCloseButtonClick","calculateX","calculateY","normalizeSizeFromProps","size","getStartupModalPosition","getMaxZIndexOfModals","zIndex","modalOption","zIndexOfCurrentModal","getScrollbarWidth","modalIsOpened","modalIsVisible","modalIsActive","props","__props","$headerWrapper","open","scrollbarWith","nextTick","activate","position","getZIndex","anotherModal","deactivate","close","onActivateModal","$footerNode","showFooter","_hoisted_1","_sfc_render","_ctx","_cache","_openBlock","_createElementBlock","_hoisted_2","modalName","_a"],"mappings":"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"}