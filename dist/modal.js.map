{"version":3,"file":"modal.js","sources":["../src/utils/ModalStorage.ts","../src/utils/modal-resize-type.ts","../src/utils/modal-cursor.ts","../src/events/resizeModal.ts","../src/events/moveModal.ts","../src/utils/updateModalSizeAndPosition.ts","../src/Components/ModalBackdrop.vue","../src/Components/ModalCloseButton.vue","../src/Components/Modal.vue","../src/Components/ModalFooter.vue","../src/Components/ModalContent.vue","../src/Components/ModalButton.vue","../src/modal.ts"],"sourcesContent":["import {ModalOptions} from \"../Types/ModalOptions\";\r\n\r\nconst modals = new Map<string, ModalOptions>();\r\n\r\nconst addModal = (name: string, options: ModalOptions): void => {\r\n    modals.set(name, options);\r\n}\r\n\r\nconst getModal = (name: string): ModalOptions | null => {\r\n    const options = modals.get(name);\r\n    if (options === undefined) {\r\n        return null;\r\n    }\r\n    return options;\r\n}\r\n\r\nconst deleteModal = (name: string): void => {\r\n    modals.delete(name);\r\n}\r\n\r\nexport {\r\n    addModal,\r\n    getModal,\r\n    deleteModal\r\n};","export default (mouseX: number, mouseY: number, rect: DOMRect): string | null => {\r\n    if (mouseX - rect.left > -10 && mouseX - rect.left < 10 && mouseY - rect.top > -10 && mouseY - rect.top < 10) {\r\n        return 'top-left';\r\n    }\r\n    if (rect.right - mouseX > -10 && rect.right - mouseX < 10 && mouseY - rect.top > -10 && mouseY - rect.top < 10) {\r\n        return 'top-right';\r\n    }\r\n    if (rect.bottom - mouseY > -10 && rect.bottom - mouseY < 10 && mouseX - rect.left > -10 && mouseX - rect.left < 10) {\r\n        return 'bottom-left';\r\n    }\r\n    if (rect.bottom - mouseY > -10 && rect.bottom - mouseY < 10 && rect.right - mouseX > -10 && rect.right - mouseX < 10) {\r\n        return 'bottom-right';\r\n    }\r\n    if (mouseX - rect.left > -5 && mouseX - rect.left < 5) {\r\n        return 'left';\r\n    }\r\n    if (rect.right - mouseX > -5 && rect.right - mouseX < 5) {\r\n        return 'right';\r\n    }\r\n    if (mouseY - rect.top > -5 && mouseY - rect.top < 5) {\r\n        return 'top';\r\n    }\r\n    if (rect.bottom - mouseY > -5 && rect.bottom - mouseY < 5) {\r\n        return 'bottom';\r\n    }\r\n    return null;\r\n}","import modalResizeType from \"./modal-resize-type\";\r\n\r\nexport default (mouseX: number, mouseY: number, rect: DOMRect): string => {\r\n    switch (modalResizeType(mouseX, mouseY, rect)) {\r\n        case 'left':\r\n        case 'right':\r\n            return 'col-resize';\r\n        case 'top':\r\n        case 'bottom':\r\n            return 'row-resize';\r\n        case 'top-left':\r\n        case 'bottom-right':\r\n            return 'nwse-resize';\r\n        case 'top-right':\r\n        case 'bottom-left':\r\n            return 'nesw-resize';\r\n        default:\r\n            return '';\r\n    }\r\n}","import modalCursor from \"../utils/modal-cursor\";\r\nimport modalResizeType from \"../utils/modal-resize-type\";\r\nimport { ModalPosition } from \"../Types/ModalPosition\";\r\n\r\nexport default ($modal: HTMLElement, callback: (modalPosition: ModalPosition) => {}) => {\r\n    $modal.addEventListener('mousemove', (e) => {\r\n        const rect = $modal.getBoundingClientRect();\r\n        $modal.style.cursor = modalCursor(e.clientX, e.clientY, rect);\r\n    });\r\n\r\n    $modal.addEventListener('mousedown', (e) => {\r\n        const x = e.clientX;\r\n        const y = e.clientY;\r\n        const originalRect = $modal.getBoundingClientRect();\r\n        let resizeType = modalResizeType(x, y, originalRect);\r\n\r\n        if (resizeType === null) {\r\n            return;\r\n        }\r\n\r\n        const originalWidth = $modal.clientWidth;\r\n        const originalHeight = $modal.clientHeight;\r\n        let width = originalWidth;\r\n        let height = originalHeight;\r\n        let top = originalRect.top;\r\n        let left = originalRect.left;\r\n\r\n        document.body.style.userSelect = \"none\";\r\n        // s####i love u!\r\n        document.body.style.setProperty('-webkit-user-select', 'none');\r\n\r\n        document.addEventListener('mousemove', (e: MouseEvent) => {\r\n            if (resizeType === null) {\r\n                return;\r\n            }\r\n            if (resizeType === 'left') {\r\n                left = originalRect.left + (e.clientX - x);\r\n                width = originalWidth - (e.clientX - x);\r\n            }\r\n            if (resizeType === 'right') {\r\n                width = originalWidth + (e.clientX - x);\r\n            }\r\n            if (resizeType === 'top') {\r\n                top = originalRect.top + (e.clientY - y);\r\n                height = originalHeight - (e.clientY - y);\r\n            }\r\n            if (resizeType === 'bottom') {\r\n                height = originalHeight + (e.clientY - y);\r\n            }\r\n            if (resizeType == 'top-left') {\r\n                left = originalRect.left + (e.clientX - x);\r\n                width = originalWidth - (e.clientX - x);\r\n                top = originalRect.top + (e.clientY - y);\r\n                height = originalHeight - (e.clientY - y);\r\n            }\r\n            if (resizeType == 'top-right') {\r\n                width = originalWidth + (e.clientX - x);\r\n                top = originalRect.top + (e.clientY - y);\r\n                height = originalHeight - (e.clientY - y);\r\n            }\r\n            if (resizeType == 'bottom-left') {\r\n                left = originalRect.left + (e.clientX - x);\r\n                width = originalWidth - (e.clientX - x);\r\n                height = originalHeight + (e.clientY - y);\r\n            }\r\n            if (resizeType == 'bottom-right') {\r\n                width = originalWidth + (e.clientX - x);\r\n                height = originalHeight + (e.clientY - y);\r\n            }\r\n\r\n            $modal.style.width = width + 'px';\r\n            $modal.style.height = height + 'px';\r\n            $modal.style.left = left + 'px';\r\n            $modal.style.top = top + 'px';\r\n\r\n            callback({\r\n                x: $modal.getBoundingClientRect().x,\r\n                y: $modal.getBoundingClientRect().y,\r\n                width: $modal.clientWidth,\r\n                height: $modal.clientHeight\r\n            });\r\n        });\r\n\r\n        $modal.addEventListener('mouseup', () => {\r\n            resizeType = null;\r\n            document.body.style.userSelect = \"none\";\r\n            // s####i love u!\r\n            document.body.style.setProperty('-webkit-user-select', '');\r\n        })\r\n    });\r\n}\r\n","import { ModalPosition } from \"../Types/ModalPosition\";\r\n\r\nexport default ($modal: HTMLElement, callback: (position: ModalPosition) => void): void => {\r\n    const $header = $modal.querySelector('.modal-header');\r\n    $header.addEventListener('mousedown', (e: MouseEvent) => {\r\n        let x = e.clientX - $modal.getBoundingClientRect().left;\r\n        let y = e.clientY - $modal.getBoundingClientRect().top;\r\n\r\n        const move = function (e: MouseEvent) {\r\n            $modal.style.top = (e.clientY - y) + 'px';\r\n            $modal.style.left = (e.clientX - x) + 'px';\r\n            document.body.style.userSelect = \"none\";\r\n            // s####i love u!\r\n            document.body.style.setProperty('-webkit-user-select', 'none');\r\n\r\n            callback({\r\n                x: $modal.getBoundingClientRect().x,\r\n                y: $modal.getBoundingClientRect().y,\r\n                width: $modal.clientWidth,\r\n                height: $modal.clientHeight\r\n            })\r\n        }\r\n\r\n        document.addEventListener('mousemove', move);\r\n\r\n        document.addEventListener('mouseup', () => {\r\n            document.removeEventListener('mousemove', move);\r\n            document.body.style.userSelect = \"\";\r\n            // s####i love u!\r\n            document.body.style.setProperty('-webkit-user-select', '');\r\n        }, {\r\n            once: true\r\n        });\r\n    });\r\n}\r\n","import { ModalPosition } from \"../Types/ModalPosition\";\r\n\r\nexport default ($modal: HTMLElement, modalPosition: ModalPosition): void => {\r\n    $modal.style.width = modalPosition.width + 'px';\r\n    $modal.style.height = modalPosition.height + 'px';\r\n    $modal.style.top = modalPosition.y !== null ? modalPosition.y + 'px' : (document.documentElement.clientHeight / 2 - $modal.clientHeight / 2) + 'px';\r\n    $modal.style.left = modalPosition.x !== null ? modalPosition.x + 'px' : (document.documentElement.clientWidth / 2 - $modal.clientWidth / 2) + 'px';\r\n}\r\n","<script lang=\"ts\" setup>\r\nimport { onMounted, onUnmounted, ref } from \"vue\";\r\n\r\nconst $backdrop = ref(null);\r\nconst emit = defineEmits(['close']);\r\n\r\nconst updateBackdropSize = (): void => {\r\n  $backdrop.value.style.width = document.documentElement.clientWidth + 'px';\r\n  $backdrop.value.style.height = document.documentElement.clientHeight + 'px';\r\n}\r\n\r\nconst onCloseBackdrop = (): void => {\r\n  emit('close');\r\n  document.body.style.overflow = '';\r\n}\r\n\r\nonMounted((): void => {\r\n  updateBackdropSize();\r\n\r\n  window.addEventListener('resize', updateBackdropSize);\r\n  document.body.style.overflow = 'hidden';\r\n});\r\n\r\nonUnmounted((): void => {\r\n  document.body.style.overflow = '';\r\n  window.removeEventListener('resize', updateBackdropSize);\r\n})\r\n</script>\r\n\r\n<template>\r\n  <div ref=\"$backdrop\" @click=\"onCloseBackdrop\" class=\"backdrop\"></div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n.backdrop {\r\n  position: fixed;\r\n  z-index: 900;\r\n  top: 0;\r\n  left: 0;\r\n  background: rgba(0, 0, 0, .5);\r\n}\r\n</style>","<script lang=\"ts\" setup>\nconst emit = defineEmits(['close']);\n\nconst onCloseButtonClick = () => {\n  emit('close');\n};\n</script>\n\n<template>\n  <button type=\"button\" @click.prevent=\"onCloseButtonClick\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"icon icon-tabler icon-tabler-x\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" stroke-width=\"2\" stroke=\"currentColor\" fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n      <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\"></path>\n      <path d=\"M18 6l-12 12\"></path>\n      <path d=\"M6 6l12 12\"></path>\n    </svg>\n  </button>\n</template>\n\n<style lang=\"scss\" scoped>\nbutton {\n  svg {\n    color: #b2b2b2;\n    &:hover {\n      color: #949494;\n    }\n    &:active {\n      color: #707070;\n    }\n  }\n}\n</style>\n","<script lang=\"ts\" setup>\r\nimport { onMounted, onUnmounted, ref, nextTick } from \"vue\";\r\nimport { addModal, deleteModal } from \"../utils/ModalStorage.js\";\r\nimport resizeModal from \"../events/resizeModal\";\r\nimport moveModal from \"../events/moveModal\";\r\nimport updateModalSizeAndPosition from \"../utils/updateModalSizeAndPosition\";\r\nimport { ModalPosition } from \"../Types/ModalPosition\";\r\n\r\nimport ModalBackdrop from \"./ModalBackdrop.vue\";\r\nimport ModalFooter from \"./ModalFooter.vue\";\r\nimport ModalCloseButton from \"./ModalCloseButton.vue\";\r\n\r\nconst modalIsOpened = ref(false);\r\nconst props = defineProps({\r\n  name: {\r\n    type: String,\r\n    required: true\r\n  },\r\n  title: {\r\n    type: String,\r\n    required: false,\r\n    default: null\r\n  },\r\n  minWidth: {\r\n    type: String,\r\n    default: '200px',\r\n  },\r\n  width: {\r\n    type: String,\r\n    default: '600px'\r\n  },\r\n  minHeight: {\r\n    type: String,\r\n    default: '200px',\r\n  },\r\n  height: {\r\n    type: String,\r\n    default: '400px'\r\n  },\r\n  backdrop: {\r\n    type: Boolean,\r\n    default: false\r\n  },\r\n  resize: {\r\n    type: Boolean,\r\n    default: true\r\n  }\r\n});\r\n\r\nconst $modal = ref<HTMLElement | null>(null);\r\nconst $headerWrapper = ref<HTMLElement | null>(null);\r\nconst $header = ref<HTMLElement | null>(null);\r\nlet modalPosition: ModalPosition | null = null;\r\n\r\nconst open = (): void => {\r\n  modalPosition = modalPosition || {\r\n    x: document.documentElement.clientWidth / 2 - Number(props.width.replace('px', '')) / 2,\r\n    y: window.innerHeight / 2 - Number(props.height.replace('px', '')) / 2,\r\n    width: Number(props.width.replace('px', '')),\r\n    height: Number(props.height.replace('px', ''))\r\n  };\r\n  modalIsOpened.value = true;\r\n\r\n  nextTick(async () => {\r\n    if ($modal.value === null || $headerWrapper.value === null) {\r\n      return;\r\n    }\r\n\r\n    $modal.value.style.minWidth = props.minWidth;\r\n    $modal.value.style.minHeight = props.minHeight;\r\n\r\n    updateModalSizeAndPosition($modal.value, modalPosition);\r\n    if (props.resize) {\r\n      resizeModal($modal.value, (position: ModalPosition) => {\r\n        modalPosition = position;\r\n      });\r\n    }\r\n    moveModal($modal.value, (position: ModalPosition) => {\r\n      modalPosition = position;\r\n    })\r\n  })\r\n};\r\n\r\nconst close = (): void => {\r\n  modalIsOpened.value = false;\r\n}\r\n\r\nonMounted(():void => {\r\n  addModal(props.name, {\r\n    open,\r\n    close\r\n  });\r\n});\r\n\r\nonUnmounted((): void => {\r\n  deleteModal(props.name);\r\n});\r\n</script>\r\n\r\n<template>\r\n  <div>\r\n    <div ref=\"$modal\" class=\"modal\" :class=\"{'modal--hidden': !modalIsOpened}\">\r\n      <div ref=\"$headerWrapper\" class=\"modal-header-wrapper\">\r\n        <div ref=\"$header\" class=\"modal-header\">\r\n          <div class=\"modal-header__title\">\r\n            {{ title }}\r\n          </div>\r\n          <div class=\"modal-header__buttons\">\r\n            <ModalCloseButton\r\n              @close=\"close\"\r\n            ></ModalCloseButton>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <slot></slot>\r\n    </div>\r\n\r\n    <modal-backdrop v-if=\"props.backdrop && modalIsOpened\" @close=\"close\"></modal-backdrop>\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n.modal--hidden {\r\n  display: none !important;\r\n}\r\n.modal {\r\n  display: flex;\r\n  flex-direction: column;\r\n  font-family: sans-serif;\r\n  position: fixed;\r\n  z-index: 1000;\r\n  background: #fff;\r\n  border-radius: 8px;\r\n  border: 1px solid rgba(30, 29, 29, 0.16);\r\n  box-shadow: 0 0 15px 0 rgba(0,0,0,0.12);\r\n  overflow: hidden;\r\n\r\n  .modal-header-wrapper {\r\n    background: #f3f4f6;\r\n    padding: .5rem .7rem;\r\n    .modal-header {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      user-select: none;\r\n\r\n      .modal-header__buttons {\r\n        button {\r\n          background: transparent;\r\n          border: none;\r\n          padding: 0;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","<script lang=\"ts\" setup>\r\nimport { ref, onMounted } from \"vue\";\r\n\r\nconst $footerNode = ref<HTMLElement|null>(null);\r\nlet showFooter = true;\r\n\r\nonMounted((): void => {\r\n    showFooter = $footerNode.value !== null && $footerNode.value.querySelectorAll('button').length > 0;\r\n});\r\n</script>\r\n\r\n<template>\r\n  <div ref=\"$footerNode\" class=\"modal-footer\" v-if=\"showFooter\">\r\n    <slot></slot>\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n.modal-footer {\r\n  text-align: right;\r\n  padding: .7rem;\r\n  background: #f3f4f6;\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"modal-body\">\r\n    <div class=\"modal-body__content\">\r\n      <slot></slot>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.modal-body {\r\n  padding: .7rem;\r\n  width: 100%;\r\n  flex-grow: 1;\r\n  box-sizing: border-box;\r\n  overflow-y: hidden;\r\n  .modal-body__content {\r\n    height: 100%;\r\n    overflow-y: auto;\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <button type=\"button\">\r\n    <slot></slot>\r\n  </button>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\nbutton {\r\n  background: #fff;\r\n  border: 1px solid #e5e8ec;\r\n  padding: .5rem 1rem;\r\n  border-radius: 5px;\r\n  outline: none;\r\n  user-select: none;\r\n  margin-left: .5rem;\r\n  &:hover {\r\n    background: #f6f6f8;\r\n    border: 1px solid #e2e6ea;\r\n  }\r\n  &:active {\r\n    background: #e8eaec;\r\n    border: 1px solid #cbd1d9;\r\n  }\r\n}\r\n</style>","import Modal from \"./Components/Modal.vue\";\r\nimport ModalFooter from \"./Components/ModalFooter.vue\";\r\nimport ModalContent from \"./Components/ModalContent.vue\";\r\nimport ModalButton from \"./Components/ModalButton.vue\";\r\nimport { getModal } from \"./utils/ModalStorage\";\r\n\r\nconst open = (modalName: string): void => {\r\n    getModal(modalName)?.open();\r\n}\r\n\r\nconst close = (modalName: string): void => {\r\n    getModal(modalName)?.close();\r\n}\r\n\r\nexport {\r\n    Modal,\r\n    ModalContent,\r\n    ModalFooter,\r\n    ModalButton,\r\n    open,\r\n    close\r\n}"],"names":["modals","addModal","name","options","getModal","deleteModal","modalResizeType","mouseX","mouseY","rect","modalCursor","resizeModal","$modal","callback","e","x","y","originalRect","resizeType","originalWidth","originalHeight","width","height","top","left","moveModal","move","updateModalSizeAndPosition","modalPosition","$backdrop","ref","emit","__emit","updateBackdropSize","onCloseBackdrop","onMounted","onUnmounted","onCloseButtonClick","modalIsOpened","props","__props","$headerWrapper","$header","open","nextTick","position","close","$footerNode","showFooter","_hoisted_1","_sfc_render","_ctx","_cache","_openBlock","_createElementBlock","_hoisted_2","modalName","_a"],"mappings":"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"}