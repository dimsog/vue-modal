{"version":3,"file":"modal.umd.cjs","sources":["../src/utils/ModalStorage.ts","../src/utils/modal-resize-type.ts","../src/utils/modal-cursor.ts","../src/utils/modal-utils.ts","../src/events/resizeModal.ts","../src/events/moveModal.ts","../src/utils/updateModalSizeAndPosition.ts","../src/Components/ModalBackdrop.vue","../src/Components/ModalCloseButton.vue","../src/Components/Modal.vue","../src/Components/ModalFooter.vue","../src/Components/ModalContent.vue","../src/Components/ModalButton.vue","../src/modal.ts"],"sourcesContent":["import {ModalOptions} from \"../Types/ModalOptions\";\r\n\r\nconst modals = new Map<string, ModalOptions>();\r\n\r\nconst addModal = (name: string, options: ModalOptions): void => {\r\n    modals.set(name, options);\r\n}\r\n\r\nconst getModal = (name: string): ModalOptions | null => {\r\n    const options = modals.get(name);\r\n    if (options === undefined) {\r\n        return null;\r\n    }\r\n    return options;\r\n}\r\n\r\nconst deleteModal = (name: string): void => {\r\n    modals.delete(name);\r\n}\r\n\r\nconst getModals = (): Map<string, ModalOptions> => {\r\n    return modals;\r\n}\r\n\r\nexport {\r\n    getModals,\r\n    addModal,\r\n    getModal,\r\n    deleteModal\r\n};\r\n","export default (mouseX: number, mouseY: number, rect: DOMRect): string | null => {\r\n    if (mouseX - rect.left > -10 && mouseX - rect.left < 10 && mouseY - rect.top > -10 && mouseY - rect.top < 10) {\r\n        return 'top-left';\r\n    }\r\n    if (rect.right - mouseX > -10 && rect.right - mouseX < 10 && mouseY - rect.top > -10 && mouseY - rect.top < 10) {\r\n        return 'top-right';\r\n    }\r\n    if (rect.bottom - mouseY > -10 && rect.bottom - mouseY < 10 && mouseX - rect.left > -10 && mouseX - rect.left < 10) {\r\n        return 'bottom-left';\r\n    }\r\n    if (rect.bottom - mouseY > -10 && rect.bottom - mouseY < 10 && rect.right - mouseX > -10 && rect.right - mouseX < 10) {\r\n        return 'bottom-right';\r\n    }\r\n    if (mouseX - rect.left > -5 && mouseX - rect.left < 5) {\r\n        return 'left';\r\n    }\r\n    if (rect.right - mouseX > -5 && rect.right - mouseX < 5) {\r\n        return 'right';\r\n    }\r\n    if (mouseY - rect.top > -5 && mouseY - rect.top < 5) {\r\n        return 'top';\r\n    }\r\n    if (rect.bottom - mouseY > -5 && rect.bottom - mouseY < 5) {\r\n        return 'bottom';\r\n    }\r\n    return null;\r\n}","import modalResizeType from \"./modal-resize-type\";\r\n\r\nexport default (mouseX: number, mouseY: number, rect: DOMRect): string => {\r\n    switch (modalResizeType(mouseX, mouseY, rect)) {\r\n        case 'left':\r\n        case 'right':\r\n            return 'col-resize';\r\n        case 'top':\r\n        case 'bottom':\r\n            return 'row-resize';\r\n        case 'top-left':\r\n        case 'bottom-right':\r\n            return 'nwse-resize';\r\n        case 'top-right':\r\n        case 'bottom-left':\r\n            return 'nesw-resize';\r\n        default:\r\n            return '';\r\n    }\r\n}","import { ModalPosition } from \"../Types/ModalPosition\";\r\nimport { getModals } from \"./ModalStorage\";\r\n\r\nconst calculateX = (width: number): number => {\r\n    return Math.round(document.documentElement.clientWidth / 2 - width / 2);\r\n}\r\n\r\nconst calculateY = (height: number): number => {\r\n    let y = Math.round(window.innerHeight / 2 - height / 2);\r\n    if (y < 0) {\r\n        y = 5;\r\n    }\r\n    return y;\r\n}\r\n\r\nconst normalizeSizeFromProps = (size: string): number => {\r\n    return Number(size.replace('px', ''));\r\n}\r\n\r\nconst getStartupModalPosition = (width: number, height: number): ModalPosition => {\r\n    return {\r\n        x: calculateX(width),\r\n        y: calculateY(height),\r\n        width: width,\r\n        height: height,\r\n    }\r\n}\r\n\r\nconst getMaxZIndexOfModals = (): number => {\r\n    let zIndex = 1000;\r\n    for (const modalOption of getModals().values()) {\r\n        const zIndexOfCurrentModal = modalOption.getZIndex();\r\n        if (zIndexOfCurrentModal > zIndex) {\r\n            zIndex = zIndexOfCurrentModal;\r\n        }\r\n    }\r\n    return zIndex;\r\n}\r\n\r\nconst getScrollbarWidth = (): number => {\r\n    return window.innerWidth - document.documentElement.clientWidth;\r\n}\r\n\r\nexport {\r\n    normalizeSizeFromProps,\r\n    getStartupModalPosition,\r\n    getMaxZIndexOfModals,\r\n    getScrollbarWidth,\r\n}\r\n","import modalCursor from \"../utils/modal-cursor\";\r\nimport modalResizeType from \"../utils/modal-resize-type\";\r\nimport { ResizeModalOptions } from \"../Types/ResizeModalOptions\";\r\nimport {normalizeSizeFromProps} from \"../utils/modal-utils\";\r\n\r\nexport default ($modal: HTMLElement, options: ResizeModalOptions) => {\r\n    $modal.addEventListener('pointermove', (e) => {\r\n        const rect = $modal.getBoundingClientRect();\r\n        $modal.style.cursor = modalCursor(e.clientX, e.clientY, rect);\r\n    });\r\n\r\n    $modal.addEventListener('pointerdown', (e) => {\r\n        const x = e.clientX;\r\n        const y = e.clientY;\r\n        const originalRect = $modal.getBoundingClientRect();\r\n        let resizeType = modalResizeType(x, y, originalRect);\r\n\r\n        if (resizeType === null) {\r\n            return;\r\n        }\r\n\r\n        const originalWidth = $modal.clientWidth;\r\n        const originalHeight = $modal.clientHeight;\r\n        const originalMinWidth = normalizeSizeFromProps($modal.style.minWidth ?? '');\r\n        const originalMinHeight = normalizeSizeFromProps($modal.style.minHeight ?? '')\r\n        let width = originalWidth;\r\n        let height = originalHeight;\r\n        let top = originalRect.top;\r\n        let left = originalRect.left;\r\n\r\n        document.body.style.userSelect = \"none\";\r\n        // s####i love u!\r\n        document.body.style.setProperty('-webkit-user-select', 'none');\r\n\r\n        document.addEventListener('pointermove', (e: PointerEvent) => {\r\n            if (resizeType === null) {\r\n                return;\r\n            }\r\n            if (resizeType === 'left') {\r\n                left = originalRect.left + (e.clientX - x);\r\n                width = originalWidth - (e.clientX - x);\r\n            }\r\n            if (resizeType === 'right') {\r\n                width = originalWidth + (e.clientX - x);\r\n            }\r\n            if (resizeType === 'top') {\r\n                height = originalHeight - (e.clientY - y);\r\n                if (height > originalMinHeight) {\r\n                    top = originalRect.top + (e.clientY - y);\r\n                }\r\n            }\r\n            if (resizeType === 'bottom') {\r\n                height = originalHeight + (e.clientY - y);\r\n            }\r\n            if (resizeType == 'top-left') {\r\n                width = originalWidth - (e.clientX - x);\r\n                if (width > originalMinWidth) {\r\n                    left = originalRect.left + (e.clientX - x);\r\n                }\r\n\r\n                height = originalHeight - (e.clientY - y);\r\n                if (height > originalMinHeight) {\r\n                    top = originalRect.top + (e.clientY - y);\r\n                }\r\n            }\r\n            if (resizeType == 'top-right') {\r\n                width = originalWidth + (e.clientX - x);\r\n                if (width > originalMinWidth) {\r\n                    top = originalRect.top + (e.clientY - y);\r\n                    height = originalHeight - (e.clientY - y);\r\n                }\r\n            }\r\n            if (resizeType == 'bottom-left') {\r\n                width = originalWidth - (e.clientX - x);\r\n                height = originalHeight + (e.clientY - y);\r\n                if (width > originalMinWidth) {\r\n                    left = originalRect.left + (e.clientX - x);\r\n                }\r\n            }\r\n            if (resizeType == 'bottom-right') {\r\n                width = originalWidth + (e.clientX - x);\r\n                height = originalHeight + (e.clientY - y);\r\n            }\r\n\r\n            $modal.style.width = width + 'px';\r\n            $modal.style.left = left + 'px';\r\n\r\n            if (e.clientY >= 0) {\r\n                $modal.style.height = height + 'px';\r\n                $modal.style.top = top + 'px';\r\n            }\r\n\r\n            options.resize({\r\n                x: $modal.getBoundingClientRect().x,\r\n                y: $modal.getBoundingClientRect().y,\r\n                width: $modal.clientWidth,\r\n                height: $modal.clientHeight\r\n            });\r\n        });\r\n\r\n        document.addEventListener('pointerup', () => {\r\n            resizeType = null;\r\n            document.body.style.userSelect = \"none\";\r\n            // s####i love u!\r\n            document.body.style.setProperty('-webkit-user-select', '');\r\n        })\r\n    });\r\n}\r\n","import {MoveModalOptions} from \"../Types/MoveModalOptions\";\r\n\r\nexport default ($modal: HTMLElement, options: MoveModalOptions): void => {\r\n    const $header = $modal.querySelector('.modal-header');\r\n    $header?.addEventListener('pointerdown', (e: PointerEvent): void => {\r\n        const x = e.clientX - $modal.getBoundingClientRect().left;\r\n        const y = e.clientY - $modal.getBoundingClientRect().top;\r\n\r\n        const move = function (e: PointerEvent) {\r\n            let _y = (e.clientY - y);\r\n            if (_y < 0) {\r\n                _y = 0;\r\n            }\r\n            $modal.style.top = _y + 'px';\r\n            $modal.style.left = (e.clientX - x) + 'px';\r\n            document.body.style.userSelect = \"none\";\r\n            // s####i love u!\r\n            document.body.style.setProperty('-webkit-user-select', 'none');\r\n\r\n            options.move({\r\n                x: $modal.getBoundingClientRect().x,\r\n                y: $modal.getBoundingClientRect().y,\r\n                width: $modal.clientWidth,\r\n                height: $modal.clientHeight\r\n            })\r\n        }\r\n\r\n        document.addEventListener('pointermove', move);\r\n\r\n        document.addEventListener('pointerup', () => {\r\n            document.removeEventListener('pointermove', move);\r\n            document.body.style.userSelect = \"\";\r\n            // s####i love u!\r\n            document.body.style.setProperty('-webkit-user-select', '');\r\n        }, {\r\n            once: true\r\n        });\r\n    });\r\n}\r\n","import { ModalPosition } from \"../Types/ModalPosition\";\r\n\r\nexport default ($modal: HTMLElement, modalPosition: ModalPosition): void => {\r\n    $modal.style.width = modalPosition.width + 'px';\r\n    $modal.style.height = modalPosition.height + 'px';\r\n    $modal.style.top = modalPosition.y !== null ? modalPosition.y + 'px' : (document.documentElement.clientHeight / 2 - $modal.clientHeight / 2) + 'px';\r\n    $modal.style.left = modalPosition.x !== null ? modalPosition.x + 'px' : (document.documentElement.clientWidth / 2 - $modal.clientWidth / 2) + 'px';\r\n}\r\n","<script lang=\"ts\" setup>\r\nimport { onMounted, onUnmounted, ref } from \"vue\";\r\n\r\nconst $backdrop = ref(null);\r\nconst emit = defineEmits(['close']);\r\n\r\nconst updateBackdropSize = (): void => {\r\n  $backdrop.value.style.width = document.documentElement.clientWidth + 'px';\r\n  $backdrop.value.style.height = document.documentElement.clientHeight + 'px';\r\n}\r\n\r\nconst onCloseBackdrop = (): void => {\r\n  emit('close');\r\n}\r\n\r\nonMounted((): void => {\r\n  updateBackdropSize();\r\n\r\n  window.addEventListener('resize', updateBackdropSize);\r\n});\r\n\r\nonUnmounted((): void => {\r\n  window.removeEventListener('resize', updateBackdropSize);\r\n})\r\n</script>\r\n\r\n<template>\r\n  <div ref=\"$backdrop\" @click=\"onCloseBackdrop\" class=\"backdrop\"></div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n.backdrop {\r\n  position: fixed;\r\n  z-index: 900;\r\n  top: 0;\r\n  left: 0;\r\n  background: #000;\r\n  opacity: .5;\r\n}\r\n.v-enter-active,\r\n.v-leave-active {\r\n  transition: opacity 0.5s ease;\r\n}\r\n\r\n.v-enter-from,\r\n.v-leave-to {\r\n  opacity: 0;\r\n}\r\n</style>\r\n","<script lang=\"ts\" setup>\r\nconst emit = defineEmits(['close']);\r\n\r\nconst onCloseButtonClick = () => {\r\n  emit('close');\r\n};\r\n</script>\r\n\r\n<template>\r\n  <button type=\"button\" @click.prevent=\"onCloseButtonClick\">\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"icon icon-tabler icon-tabler-x\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" stroke-width=\"2\" stroke=\"currentColor\" fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\r\n      <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\"></path>\r\n      <path d=\"M18 6l-12 12\"></path>\r\n      <path d=\"M6 6l12 12\"></path>\r\n    </svg>\r\n  </button>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\nbutton {\r\n  svg {\r\n    color: #b2b2b2;\r\n    &:hover {\r\n      color: #949494;\r\n    }\r\n    &:active {\r\n      color: #707070;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","<script lang=\"ts\" setup>\r\nimport { onMounted, onUnmounted, ref, nextTick } from \"vue\";\r\nimport {addModal, deleteModal, getModals} from \"../utils/ModalStorage.js\";\r\nimport resizeModal from \"../events/resizeModal\";\r\nimport moveModal from \"../events/moveModal\";\r\nimport updateModalSizeAndPosition from \"../utils/updateModalSizeAndPosition\";\r\nimport { ModalPosition } from \"../Types/ModalPosition\";\r\n\r\nimport ModalBackdrop from \"./ModalBackdrop.vue\";\r\nimport ModalCloseButton from \"./ModalCloseButton.vue\";\r\nimport {getMaxZIndexOfModals, getStartupModalPosition, normalizeSizeFromProps, getScrollbarWidth} from \"../utils/modal-utils\";\r\n\r\nconst modalIsOpened = ref(false);\r\nconst modalIsVisible = ref(false);\r\nconst modalIsActive = ref(false);\r\n\r\nconst props = defineProps({\r\n  name: {\r\n    type: String,\r\n    required: true\r\n  },\r\n  title: {\r\n    type: String,\r\n    required: false,\r\n    default: null\r\n  },\r\n  minWidth: {\r\n    type: String,\r\n    default: '200px',\r\n  },\r\n  width: {\r\n    type: String,\r\n    default: '600px'\r\n  },\r\n  minHeight: {\r\n    type: String,\r\n    default: '200px',\r\n  },\r\n  height: {\r\n    type: String,\r\n    default: '400px'\r\n  },\r\n  backdrop: {\r\n    type: Boolean,\r\n    default: false\r\n  },\r\n  staticBackdrop: {\r\n    type: Boolean,\r\n    default: false,\r\n  },\r\n  resize: {\r\n    type: Boolean,\r\n    default: true\r\n  },\r\n  theme: {\r\n    type: String,\r\n    default: 'white'\r\n  }\r\n});\r\n\r\nconst $modal = ref<HTMLElement | null>(null);\r\nconst $headerWrapper = ref<HTMLElement | null>(null);\r\nconst $header = ref<HTMLElement | null>(null);\r\nlet modalPosition: ModalPosition;\r\n\r\nconst open = (): void => {\r\n  modalPosition = modalPosition || getStartupModalPosition(\r\n      normalizeSizeFromProps(props.width),\r\n      normalizeSizeFromProps(props.height),\r\n  );\r\n\r\n  const scrollbarWith = getScrollbarWidth();\r\n  if (scrollbarWith > 0) {\r\n    document.body.style.paddingRight = scrollbarWith + 'px';\r\n  }\r\n  document.body.style.overflow = 'hidden';\r\n\r\n  modalIsOpened.value = true;\r\n  setTimeout(() => modalIsVisible.value = true, 10);\r\n\r\n  nextTick(async () => {\r\n    if ($modal.value === null || $headerWrapper.value === null) {\r\n      return;\r\n    }\r\n\r\n    activate();\r\n\r\n    $modal.value.style.zIndex = (getMaxZIndexOfModals() + 1).toString();\r\n    $modal.value.style.minWidth = props.minWidth;\r\n    $modal.value.style.minHeight = props.minHeight;\r\n\r\n    updateModalSizeAndPosition($modal.value, modalPosition);\r\n    if (props.resize) {\r\n      resizeModal($modal.value, {\r\n        resize: (position: ModalPosition): void => {\r\n          modalPosition = position;\r\n        },\r\n      });\r\n    }\r\n\r\n    moveModal($modal.value, {\r\n      move: (position: ModalPosition) => {\r\n        modalPosition = position;\r\n      }\r\n    });\r\n  });\r\n};\r\n\r\nconst getZIndex = (): number => {\r\n  return Number($modal.value?.style.zIndex ?? 1000);\r\n}\r\n\r\nconst activate = (): void => {\r\n  if ($modal.value === null || modalIsActive.value === true) {\r\n    return;\r\n  }\r\n  for (const anotherModal of getModals().values()) {\r\n    anotherModal.deactivate();\r\n  }\r\n  let zIndex = getMaxZIndexOfModals() + 1;\r\n  modalIsActive.value = true;\r\n  $modal.value.style.zIndex = zIndex.toString();\r\n}\r\n\r\nconst deactivate = (): void => {\r\n  modalIsActive.value = false;\r\n  if ($modal.value !== null) {\r\n    let zIndex = Number($modal.value.style.zIndex) - 1;\r\n    if (zIndex < 1000) {\r\n      zIndex = 1000;\r\n    }\r\n    $modal.value.style.setProperty('z-index', zIndex.toString());\r\n  }\r\n}\r\n\r\nconst close = (): void => {\r\n  modalIsVisible.value = false;\r\n  document.body.style.paddingRight = '';\r\n  document.body.style.overflow = '';\r\n  setTimeout(() => {\r\n    modalIsOpened.value = false;\r\n  }, 150);\r\n}\r\n\r\nconst onCloseBackdrop = () => {\r\n  if (!props.staticBackdrop) {\r\n    close();\r\n  }\r\n}\r\n\r\nonMounted(():void => {\r\n  addModal(props.name, {\r\n    open,\r\n    close,\r\n    activate,\r\n    deactivate,\r\n    getZIndex,\r\n  });\r\n});\r\n\r\nonUnmounted((): void => {\r\n  deleteModal(props.name);\r\n});\r\n</script>\r\n\r\n<template>\r\n  <div>\r\n    <div @pointerdown=\"activate\" ref=\"$modal\" class=\"modal\" :class=\"{'modal--hidden': !modalIsOpened, 'modal-visible': modalIsVisible, 'modal--theme-black': props.theme === 'black'}\">\r\n      <div ref=\"$headerWrapper\" class=\"modal-header-wrapper\">\r\n        <div ref=\"$header\" class=\"modal-header\">\r\n          <div class=\"modal-header__title\">\r\n            {{ title }}\r\n          </div>\r\n          <div class=\"modal-header__buttons\">\r\n            <ModalCloseButton\r\n              @close=\"close\"\r\n            ></ModalCloseButton>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <slot></slot>\r\n    </div>\r\n\r\n    <Transition>\r\n      <modal-backdrop v-if=\"props.backdrop && modalIsOpened\" @close=\"onCloseBackdrop\"></modal-backdrop>\r\n    </Transition>\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n.modal--hidden {\r\n  display: none !important;\r\n}\r\n\r\n.modal-visible {\r\n  opacity: 1 !important;\r\n}\r\n\r\n.modal {\r\n  display: flex;\r\n  flex-direction: column;\r\n  font-family: sans-serif;\r\n  position: fixed;\r\n  background: #fff;\r\n  border-radius: 11px;\r\n  border: 1px solid rgba(30, 29, 29, 0.16);\r\n  box-shadow: 0 0 25px 0 rgba(0,0,0,0.20);\r\n  overflow: hidden;\r\n  opacity: 0;\r\n  transition: opacity .15s ease-in-out 0s;\r\n\r\n  .modal-header-wrapper {\r\n    background: #f3f4f6;\r\n    padding: .3rem .5rem;\r\n    .modal-header {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      user-select: none;\r\n\r\n      .modal-header__buttons {\r\n        line-height: 0;\r\n        button {\r\n          line-height: 0;\r\n          background: transparent;\r\n          border: none;\r\n          padding: 0;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  &.modal--theme-black {\r\n    background: #292a2e;\r\n    color: #d0d0dc;\r\n    .modal-header-wrapper {\r\n      background: #25262b;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","<script lang=\"ts\" setup>\r\nimport { ref, onMounted } from \"vue\";\r\n\r\nconst $footerNode = ref<HTMLElement|null>(null);\r\nlet showFooter = true;\r\n\r\nonMounted((): void => {\r\n    showFooter = $footerNode.value !== null && $footerNode.value.querySelectorAll('button').length > 0;\r\n});\r\n</script>\r\n\r\n<template>\r\n  <div ref=\"$footerNode\" class=\"modal-footer\" v-if=\"showFooter\">\r\n    <slot></slot>\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n.modal-footer {\r\n  text-align: right;\r\n  padding: .5rem;\r\n  background: #f3f4f6;\r\n}\r\n\r\n.modal.modal--theme-black {\r\n  .modal-footer {\r\n    background: #25262b;\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"modal-body\">\r\n    <div class=\"modal-body__content\">\r\n      <slot></slot>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.modal-body {\r\n  padding: .7rem;\r\n  width: 100%;\r\n  flex-grow: 1;\r\n  box-sizing: border-box;\r\n  overflow-y: hidden;\r\n  .modal-body__content {\r\n    height: 100%;\r\n    overflow-y: auto;\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <button type=\"button\">\r\n    <slot></slot>\r\n  </button>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\nbutton {\r\n  background: #fff;\r\n  border: 1px solid #e5e8ec;\r\n  padding: .3rem 1rem;\r\n  border-radius: 5px;\r\n  outline: none;\r\n  user-select: none;\r\n  margin-left: .5rem;\r\n  &:hover {\r\n    background: #f6f6f8;\r\n    border: 1px solid #e2e6ea;\r\n  }\r\n  &:active {\r\n    background: #e8eaec;\r\n    border: 1px solid #cbd1d9;\r\n  }\r\n}\r\n.modal.modal--theme-black {\r\n  .modal-footer {\r\n    button {\r\n      background: #48484f;\r\n      border-color: #48484f;\r\n      color: #d0d0dc;\r\n      &:hover {\r\n        background: #575760;\r\n        border-color: #575760;\r\n      }\r\n      &:active {\r\n        background: #4f4f57;\r\n        border-color: #4f4f57;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import Modal from \"./Components/Modal.vue\";\r\nimport ModalFooter from \"./Components/ModalFooter.vue\";\r\nimport ModalContent from \"./Components/ModalContent.vue\";\r\nimport ModalButton from \"./Components/ModalButton.vue\";\r\nimport { getModal } from \"./utils/ModalStorage\";\r\n\r\nconst open = (modalName: string): void => {\r\n    getModal(modalName)?.open();\r\n}\r\n\r\nconst close = (modalName: string): void => {\r\n    getModal(modalName)?.close();\r\n}\r\n\r\nexport {\r\n    Modal,\r\n    ModalContent,\r\n    ModalFooter,\r\n    ModalButton,\r\n    open,\r\n    close\r\n}"],"names":["modals","addModal","name","options","getModal","deleteModal","getModals","modalResizeType","mouseX","mouseY","rect","modalCursor","calculateX","width","calculateY","height","y","normalizeSizeFromProps","size","getStartupModalPosition","getMaxZIndexOfModals","zIndex","modalOption","zIndexOfCurrentModal","getScrollbarWidth","resizeModal","$modal","e","x","originalRect","resizeType","originalWidth","originalHeight","originalMinWidth","originalMinHeight","top","left","moveModal","$header","move","_y","updateModalSizeAndPosition","modalPosition","$backdrop","ref","emit","__emit","updateBackdropSize","onCloseBackdrop","onMounted","onUnmounted","onCloseButtonClick","modalIsOpened","modalIsVisible","modalIsActive","props","__props","$headerWrapper","open","scrollbarWith","nextTick","activate","position","getZIndex","_a","anotherModal","deactivate","close","$footerNode","showFooter","_hoisted_1","_sfc_render","_ctx","_cache","_openBlock","_createElementBlock","_hoisted_2","modalName"],"mappings":"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"}