(function(a,i){typeof exports=="object"&&typeof module<"u"?i(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],i):(a=typeof globalThis<"u"?globalThis:a||self,i(a.Modal={},a.Vue))})(this,function(a,i){"use strict";const x=new Map,w=(e,t)=>{x.set(e,t)},m=e=>{const t=x.get(e);return t===void 0?null:t},E=e=>{x.delete(e)},b=(e,t,n)=>e-n.left>-10&&e-n.left<10&&t-n.top>-10&&t-n.top<10?"top-left":n.right-e>-10&&n.right-e<10&&t-n.top>-10&&t-n.top<10?"top-right":n.bottom-t>-10&&n.bottom-t<10&&e-n.left>-10&&e-n.left<10?"bottom-left":n.bottom-t>-10&&n.bottom-t<10&&n.right-e>-10&&n.right-e<10?"bottom-right":e-n.left>-5&&e-n.left<5?"left":n.right-e>-5&&n.right-e<5?"right":t-n.top>-5&&t-n.top<5?"top":n.bottom-t>-5&&n.bottom-t<5?"bottom":null,v=(e,t,n)=>{switch(b(e,t,n)){case"left":case"right":return"col-resize";case"top":case"bottom":return"row-resize";case"top-left":case"bottom-right":return"nwse-resize";case"top-right":case"bottom-left":return"nesw-resize";default:return""}},M=(e,t,n)=>{let h=!1;t.addEventListener("mousemove",s=>{if(h)return;const o=t.getBoundingClientRect();t.style.cursor=v(s.clientX,s.clientY,o)}),t.addEventListener("mousedown",s=>{if(h)return;const o=s.clientX,d=s.clientY,r=t.getBoundingClientRect();let c=b(o,d,r);if(c===null)return;const f=t.clientWidth,p=t.clientHeight;let g=f,u=p,y=r.top,_=r.left;t.style.userSelect="none",document.addEventListener("mousemove",l=>{c!==null&&(c==="left"&&(_=r.left+(l.clientX-o),g=f-(l.clientX-o)),c==="right"&&(g=f+(l.clientX-o)),c==="top"&&(y=r.top+(l.clientY-d),u=p-(l.clientY-d)),c==="bottom"&&(u=p+(l.clientY-d)),c=="top-left"&&(_=r.left+(l.clientX-o),g=f-(l.clientX-o),y=r.top+(l.clientY-d),u=p-(l.clientY-d)),c=="top-right"&&(g=f+(l.clientX-o),y=r.top+(l.clientY-d),u=p-(l.clientY-d)),c=="bottom-left"&&(_=r.left+(l.clientX-o),g=f-(l.clientX-o),u=p+(l.clientY-d)),c=="bottom-right"&&(g=f+(l.clientX-o),u=p+(l.clientY-d)),t.style.width=g+"px",t.style.height=u+"px",t.style.left=_+"px",t.style.top=y+"px",n({x:t.getBoundingClientRect().x,y:t.getBoundingClientRect().y,width:t.clientWidth,height:t.clientHeight}))}),t.addEventListener("mouseup",()=>{c=null,t.style.userSelect=""})}),e.addEventListener("mousedown",s=>{let o=s.clientX-t.getBoundingClientRect().left,d=s.clientY-t.getBoundingClientRect().top;h=!0;const r=function(c){t.style.top=c.pageY-d+"px",t.style.left=c.pageX-o+"px",n({x:t.getBoundingClientRect().x,y:t.getBoundingClientRect().y,width:t.clientWidth,height:t.clientHeight})};document.addEventListener("mousemove",r),e.addEventListener("mouseup",()=>{document.removeEventListener("mousemove",r),h=!1})})},N=(e,t)=>{e.style.width=t.width+"px",e.style.height=t.height+"px",e.style.top=t.y!==null?t.y+"px":document.documentElement.clientHeight/2-e.clientHeight/2+"px",e.style.left=t.x!==null?t.x+"px":document.documentElement.clientWidth/2-e.clientWidth/2+"px"},k=e=>(i.pushScopeId("data-v-57bfd473"),e=e(),i.popScopeId(),e),C={class:"modal-header__title"},S={class:"modal-header__buttons"},B=["onClick"],V=[k(()=>i.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-x",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[i.createElementVNode("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),i.createElementVNode("path",{d:"M18 6l-12 12"}),i.createElementVNode("path",{d:"M6 6l12 12"})],-1))],z={class:"modal-body__content"},R=i.defineComponent({__name:"Modal",props:{name:{type:String,required:!0},title:{type:String,required:!1,default:null},width:{type:String,default:"600px"},height:{type:String,default:"400px"}},setup(e){const t=e,n=i.ref(!1),h=i.ref(null),s=i.ref(null),o=i.ref(null),d=i.ref(null);let r=null;const c=()=>{r=r||{x:document.documentElement.clientWidth/2-Number(t.width.replace("px",""))/2,y:document.documentElement.clientHeight/2-Number(t.height.replace("px",""))/2,width:Number(t.width.replace("px","")),height:Number(t.height.replace("px",""))},n.value=!0,i.nextTick(async()=>{N(h.value,r),M(o.value,h.value,p=>{r=p}),d.value.style.height=`calc(100% - ${s.value.clientHeight}px)`})},f=()=>{n.value=!1};return i.onMounted(()=>{w(t.name,{open:c,close:f})}),i.onUnmounted(()=>{E(t.name)}),(p,g)=>(i.openBlock(),i.createElementBlock("div",null,[i.createElementVNode("div",{ref_key:"$modal",ref:h,class:i.normalizeClass(["modal",{"modal--hidden":!n.value}])},[i.createElementVNode("div",{ref_key:"$headerWrapper",ref:s,class:"modal-header-wrapper"},[i.createElementVNode("div",{ref_key:"$header",ref:o,class:"modal-header"},[i.createElementVNode("div",C,i.toDisplayString(e.title),1),i.createElementVNode("div",S,[i.createElementVNode("button",{type:"button",onClick:i.withModifiers(f,["prevent"])},V,8,B)])],512)],512),i.createElementVNode("div",{ref_key:"$modalBody",ref:d,class:"modal-body"},[i.createElementVNode("div",z,[i.renderSlot(p.$slots,"default",{},void 0,!0)])],512)],2)]))}}),I="",H=((e,t)=>{const n=e.__vccOpts||e;for(const[h,s]of t)n[h]=s;return n})(R,[["__scopeId","data-v-57bfd473"]]),W=e=>{var t;(t=m(e))==null||t.open()},L=e=>{var t;(t=m(e))==null||t.close()};a.Modal=H,a.close=L,a.open=W,Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})});
