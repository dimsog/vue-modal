{"version":3,"file":"modal.js","sources":["../src/Components/ModalBackdrop.vue","../src/utils/ModalStorage.ts","../src/utils/modal-resize-type.ts","../src/utils/modal-cursor.ts","../src/events/resizeModal.ts","../src/events/moveModal.ts","../src/utils/updateModalSizeAndPosition.ts","../src/Components/Modal.vue","../src/Components/ModalFooter.vue","../src/Components/ModalContent.vue","../src/Components/ModalButton.vue","../src/modal.ts"],"sourcesContent":["<script lang=\"ts\" setup>\r\nimport { onMounted, onUnmounted, ref } from \"vue\";\r\n\r\nconst $backdrop = ref(null);\r\nconst emit = defineEmits(['close']);\r\n\r\nconst updateBackdropSize = (): void => {\r\n  $backdrop.value.style.width = document.documentElement.clientWidth + 'px';\r\n  $backdrop.value.style.height = document.body.getBoundingClientRect().height + 'px';\r\n}\r\n\r\nconst onCloseBackdrop = (): void => {\r\n  emit('close');\r\n  document.body.style.overflow = '';\r\n}\r\n\r\nonMounted((): void => {\r\n  updateBackdropSize();\r\n\r\n  window.addEventListener('resize', updateBackdropSize);\r\n  document.body.style.overflow = 'hidden';\r\n});\r\n\r\nonUnmounted((): void => {\r\n  document.body.style.overflow = '';\r\n})\r\n</script>\r\n\r\n<template>\r\n  <div ref=\"$backdrop\" @click=\"onCloseBackdrop\" class=\"backdrop\"></div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n.backdrop {\r\n  position: absolute;\r\n  z-index: 900;\r\n  top: 0;\r\n  left: 0;\r\n  background: rgba(0, 0, 0, .5);\r\n}\r\n</style>","import {ModalOptions} from \"../Types/ModalOptions\";\n\nconst modals = new Map<string, ModalOptions>();\n\nconst addModal = (name: string, options: ModalOptions): void => {\n    modals.set(name, options);\n}\n\nconst getModal = (name: string): ModalOptions | null => {\n    const options = modals.get(name);\n    if (options === undefined) {\n        return null;\n    }\n    return options;\n}\n\nconst deleteModal = (name: string): void => {\n    modals.delete(name);\n}\n\nexport {\n    addModal,\n    getModal,\n    deleteModal\n};","export default (mouseX: number, mouseY: number, rect: DOMRect): string | null => {\n    if (mouseX - rect.left > -10 && mouseX - rect.left < 10 && mouseY - rect.top > -10 && mouseY - rect.top < 10) {\n        return 'top-left';\n    }\n    if (rect.right - mouseX > -10 && rect.right - mouseX < 10 && mouseY - rect.top > -10 && mouseY - rect.top < 10) {\n        return 'top-right';\n    }\n    if (rect.bottom - mouseY > -10 && rect.bottom - mouseY < 10 && mouseX - rect.left > -10 && mouseX - rect.left < 10) {\n        return 'bottom-left';\n    }\n    if (rect.bottom - mouseY > -10 && rect.bottom - mouseY < 10 && rect.right - mouseX > -10 && rect.right - mouseX < 10) {\n        return 'bottom-right';\n    }\n    if (mouseX - rect.left > -5 && mouseX - rect.left < 5) {\n        return 'left';\n    }\n    if (rect.right - mouseX > -5 && rect.right - mouseX < 5) {\n        return 'right';\n    }\n    if (mouseY - rect.top > -5 && mouseY - rect.top < 5) {\n        return 'top';\n    }\n    if (rect.bottom - mouseY > -5 && rect.bottom - mouseY < 5) {\n        return 'bottom';\n    }\n    return null;\n}","import modalResizeType from \"./modal-resize-type\";\n\nexport default (mouseX: number, mouseY: number, rect: DOMRect): string => {\n    switch (modalResizeType(mouseX, mouseY, rect)) {\n        case 'left':\n        case 'right':\n            return 'col-resize';\n        case 'top':\n        case 'bottom':\n            return 'row-resize';\n        case 'top-left':\n        case 'bottom-right':\n            return 'nwse-resize';\n        case 'top-right':\n        case 'bottom-left':\n            return 'nesw-resize';\n        default:\n            return '';\n    }\n}","import modalCursor from \"../utils/modal-cursor\";\r\nimport modalResizeType from \"../utils/modal-resize-type\";\r\nimport { ModalPosition } from \"../Types/ModalPosition\";\r\n\r\nexport default ($modal: HTMLElement, callback: (modalPosition: ModalPosition) => {}) => {\r\n    $modal.addEventListener('mousemove', (e) => {\r\n        const rect = $modal.getBoundingClientRect();\r\n        $modal.style.cursor = modalCursor(e.clientX, e.clientY, rect);\r\n    });\r\n\r\n    $modal.addEventListener('mousedown', (e) => {\r\n        const x = e.clientX;\r\n        const y = e.clientY;\r\n        const originalRect = $modal.getBoundingClientRect();\r\n        let resizeType = modalResizeType(x, y, originalRect);\r\n\r\n        if (resizeType === null) {\r\n            return;\r\n        }\r\n\r\n        const originalWidth = $modal.clientWidth;\r\n        const originalHeight = $modal.clientHeight;\r\n        let width = originalWidth;\r\n        let height = originalHeight;\r\n        let top = originalRect.top;\r\n        let left = originalRect.left;\r\n\r\n        $modal.style.userSelect = 'none';\r\n\r\n        document.addEventListener('mousemove', (e: MouseEvent) => {\r\n            if (resizeType === null) {\r\n                return;\r\n            }\r\n            if (resizeType === 'left') {\r\n                left = originalRect.left + (e.clientX - x);\r\n                width = originalWidth - (e.clientX - x);\r\n            }\r\n            if (resizeType === 'right') {\r\n                width = originalWidth + (e.clientX - x);\r\n            }\r\n            if (resizeType === 'top') {\r\n                top = originalRect.top + (e.clientY - y);\r\n                height = originalHeight - (e.clientY - y);\r\n            }\r\n            if (resizeType === 'bottom') {\r\n                height = originalHeight + (e.clientY - y);\r\n            }\r\n            if (resizeType == 'top-left') {\r\n                left = originalRect.left + (e.clientX - x);\r\n                width = originalWidth - (e.clientX - x);\r\n                top = originalRect.top + (e.clientY - y);\r\n                height = originalHeight - (e.clientY - y);\r\n            }\r\n            if (resizeType == 'top-right') {\r\n                width = originalWidth + (e.clientX - x);\r\n                top = originalRect.top + (e.clientY - y);\r\n                height = originalHeight - (e.clientY - y);\r\n            }\r\n            if (resizeType == 'bottom-left') {\r\n                left = originalRect.left + (e.clientX - x);\r\n                width = originalWidth - (e.clientX - x);\r\n                height = originalHeight + (e.clientY - y);\r\n            }\r\n            if (resizeType == 'bottom-right') {\r\n                width = originalWidth + (e.clientX - x);\r\n                height = originalHeight + (e.clientY - y);\r\n            }\r\n\r\n            $modal.style.width = width + 'px';\r\n            $modal.style.height = height + 'px';\r\n            $modal.style.left = left + 'px';\r\n            $modal.style.top = top + 'px';\r\n\r\n            callback({\r\n                x: $modal.getBoundingClientRect().x,\r\n                y: $modal.getBoundingClientRect().y,\r\n                width: $modal.clientWidth,\r\n                height: $modal.clientHeight\r\n            });\r\n        });\r\n\r\n        $modal.addEventListener('mouseup', () => {\r\n            resizeType = null;\r\n            $modal.style.userSelect = '';\r\n        })\r\n    });\r\n}","import { ModalPosition } from \"../Types/ModalPosition\";\r\n\r\nexport default ($modal: HTMLElement, callback: (position: ModalPosition) => void): void => {\r\n    const $header = $modal.querySelector('.modal-header');\r\n    $header.addEventListener('mousedown', (e: MouseEvent) => {\r\n        let x = e.clientX - $modal.getBoundingClientRect().left;\r\n        let y = e.clientY - $modal.getBoundingClientRect().top;\r\n\r\n        const move = function (e: MouseEvent) {\r\n            $modal.style.top = (e.clientY - y) + 'px';\r\n            $modal.style.left = (e.clientX - x) + 'px';\r\n\r\n            callback({\r\n                x: $modal.getBoundingClientRect().x,\r\n                y: $modal.getBoundingClientRect().y,\r\n                width: $modal.clientWidth,\r\n                height: $modal.clientHeight\r\n            })\r\n        }\r\n\r\n        document.addEventListener('mousemove', move);\r\n\r\n        document.addEventListener('mouseup', () => {\r\n            document.removeEventListener('mousemove', move);\r\n        }, {\r\n            once: true\r\n        });\r\n    });\r\n}","import { ModalPosition } from \"../Types/ModalPosition\";\r\n\r\nexport default ($modal: HTMLElement, modalPosition: ModalPosition): void => {\r\n    $modal.style.width = modalPosition.width + 'px';\r\n    $modal.style.height = modalPosition.height + 'px';\r\n    $modal.style.top = modalPosition.y !== null ? modalPosition.y + 'px' : (document.documentElement.clientHeight / 2 - $modal.clientHeight / 2) + 'px';\r\n    $modal.style.left = modalPosition.x !== null ? modalPosition.x + 'px' : (document.documentElement.clientWidth / 2 - $modal.clientWidth / 2) + 'px';\r\n}","<script lang=\"ts\" setup>\r\nimport ModalBackdrop from \"./ModalBackdrop.vue\";\r\n\r\nimport { onMounted, onUnmounted, ref, nextTick } from \"vue\";\r\nimport { addModal, deleteModal } from \"../utils/ModalStorage.js\";\r\nimport resizeModal from \"../events/resizeModal\";\r\nimport moveModal from \"../events/moveModal\";\r\nimport updateModalSizeAndPosition from \"../utils/updateModalSizeAndPosition\";\r\nimport { ModalPosition } from \"../Types/ModalPosition\";\r\nimport ModalFooter from \"./ModalFooter.vue\";\r\n\r\nconst modalIsOpened = ref(false);\r\nconst props = defineProps({\r\n  name: {\r\n    type: String,\r\n    required: true\r\n  },\r\n  title: {\r\n    type: String,\r\n    required: false,\r\n    default: null\r\n  },\r\n  width: {\r\n    type: String,\r\n    default: '600px'\r\n  },\r\n  height: {\r\n    type: String,\r\n    default: '400px'\r\n  },\r\n  backdrop: {\r\n    type: Boolean,\r\n    default: false\r\n  },\r\n  resize: {\r\n    type: Boolean,\r\n    default: true\r\n  }\r\n});\r\n\r\nconst $modal = ref<HTMLElement | null>(null);\r\nconst $headerWrapper = ref<HTMLElement | null>(null);\r\nconst $header = ref<HTMLElement | null>(null);\r\nlet modalPosition: ModalPosition | null = null;\r\n\r\nconst open = (): void => {\r\n  modalPosition = modalPosition || {\r\n    x: document.documentElement.clientWidth / 2 - Number(props.width.replace('px', '')) / 2,\r\n    y: window.innerHeight / 2 - Number(props.height.replace('px', '')) / 2,\r\n    width: Number(props.width.replace('px', '')),\r\n    height: Number(props.height.replace('px', ''))\r\n  };\r\n  modalIsOpened.value = true;\r\n\r\n  nextTick(async () => {\r\n    if ($modal.value === null || $headerWrapper.value === null) {\r\n      return;\r\n    }\r\n\r\n    updateModalSizeAndPosition($modal.value, modalPosition);\r\n    if (props.resize) {\r\n      resizeModal($modal.value, (position: ModalPosition) => {\r\n        modalPosition = position;\r\n      });\r\n    }\r\n    moveModal($modal.value, (position: ModalPosition) => {\r\n      modalPosition = position;\r\n    })\r\n  })\r\n};\r\n\r\nconst close = (): void => {\r\n  modalIsOpened.value = false;\r\n}\r\n\r\nonMounted(():void => {\r\n  addModal(props.name, {\r\n    open,\r\n    close\r\n  });\r\n});\r\n\r\nonUnmounted((): void => {\r\n  deleteModal(props.name);\r\n});\r\n</script>\r\n\r\n<template>\r\n  <div>\r\n    <div ref=\"$modal\" class=\"modal\" :class=\"{'modal--hidden': !modalIsOpened}\">\r\n      <div ref=\"$headerWrapper\" class=\"modal-header-wrapper\">\r\n        <div ref=\"$header\" class=\"modal-header\">\r\n          <div class=\"modal-header__title\">\r\n            {{ title }}\r\n          </div>\r\n          <div class=\"modal-header__buttons\">\r\n            <button type=\"button\" @click.prevent=\"close\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"icon icon-tabler icon-tabler-x\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" stroke-width=\"2\" stroke=\"currentColor\" fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\r\n                <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\"></path>\r\n                <path d=\"M18 6l-12 12\"></path>\r\n                <path d=\"M6 6l12 12\"></path>\r\n              </svg>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <slot></slot>\r\n    </div>\r\n\r\n    <modal-backdrop v-if=\"props.backdrop && modalIsOpened\" @close=\"close\"></modal-backdrop>\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n.modal--hidden {\r\n  display: none !important;\r\n}\r\n.modal {\r\n  display: flex;\r\n  flex-direction: column;\r\n  font-family: sans-serif;\r\n  position: fixed;\r\n  z-index: 1000;\r\n  background: #fff;\r\n  border-radius: 8px;\r\n  border: 1px solid rgba(30, 29, 29, 0.16);\r\n  box-shadow: 0 0 10px 0 rgba(0,0,0,0.10);\r\n  overflow: hidden;\r\n\r\n  .modal-header-wrapper {\r\n    background: #f3f4f6;\r\n    padding: .5rem .7rem;\r\n    .modal-header {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      user-select: none;\r\n\r\n      .modal-header__buttons {\r\n        button {\r\n          background: transparent;\r\n          border: none;\r\n          padding: 0;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","<script lang=\"ts\" setup>\nimport { ref, onMounted } from \"vue\";\n\nconst $footerNode = ref<HTMLElement|null>(null);\nlet showFooter = true;\n\nonMounted((): void => {\n    showFooter = $footerNode.value !== null && $footerNode.value.querySelectorAll('button').length > 0;\n});\n</script>\n\n<template>\n  <div ref=\"$footerNode\" class=\"modal-footer\" v-if=\"showFooter\">\n    <slot></slot>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.modal-footer {\n  text-align: right;\n  padding: .7rem;\n  background: #f4f5f6;\n}\n</style>\n","<template>\n  <div class=\"modal-body\">\n    <div class=\"modal-body__content\">\n      <slot></slot>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\n\n</script>\n\n<style lang=\"scss\" scoped>\n.modal-body {\n  padding: .7rem;\n  width: 100%;\n  flex-grow: 1;\n  box-sizing: border-box;\n  overflow-y: hidden;\n  .modal-body__content {\n    height: 100%;\n    overflow-y: scroll;\n  }\n}\n</style>","<template>\n  <button type=\"button\">\n    <slot></slot>\n  </button>\n</template>\n\n<script lang=\"ts\" setup>\n\n</script>\n\n<style lang=\"scss\" scoped>\nbutton {\n  background: #fff;\n  border: 1px solid #e5e8ec;\n  padding: .5rem 1rem;\n  border-radius: 5px;\n  outline: none;\n  user-select: none;\n  margin-left: .5rem;\n  &:hover {\n    background: #f3f3f6;\n    border: 1px solid #cbd1d9;\n  }\n  &:active {\n    background: #e8eaec;\n    border: 1px solid #cbd1d9;\n  }\n}\n</style>","import Modal from \"./Components/Modal.vue\";\r\nimport ModalFooter from \"./Components/ModalFooter.vue\";\r\nimport ModalContent from \"./Components/ModalContent.vue\";\r\nimport ModalButton from \"./Components/ModalButton.vue\";\r\nimport { getModal } from \"./utils/ModalStorage\";\r\n\r\nconst open = (modalName: string): void => {\r\n    getModal(modalName)?.open();\r\n}\r\n\r\nconst close = (modalName: string): void => {\r\n    getModal(modalName)?.close();\r\n}\r\n\r\nexport {\r\n    Modal,\r\n    ModalContent,\r\n    ModalFooter,\r\n    ModalButton,\r\n    open,\r\n    close\r\n}"],"names":["$backdrop","ref","updateBackdropSize","onCloseBackdrop","emit","onMounted","onUnmounted","modals","addModal","name","options","getModal","deleteModal","modalResizeType","mouseX","mouseY","rect","modalCursor","resizeModal","$modal","callback","e","x","y","originalRect","resizeType","originalWidth","originalHeight","width","height","top","left","moveModal","move","updateModalSizeAndPosition","modalPosition","modalIsOpened","$headerWrapper","$header","open","props","nextTick","position","close","$footerNode","showFooter","_hoisted_1","_sfc_render","_ctx","_cache","_openBlock","_createElementBlock","_hoisted_2","modalName","_a"],"mappings":"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"}